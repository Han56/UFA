# UFA

## 项目技术初步讨论
**1.Log机制：**报警机制  发生严重问题时需要通知给管理员，  Slack/邮件/短信
**2.订阅数据源：**写一个订阅的基类(HTTP/WebSocket)，不同的数据源去继承。
   *WebSocket基类方法：*
      建立连接

​      断开连接

​      订阅价格

​      订阅深度等

​      onMessage

​      写Redis

   *HTTP基类方法：*

​      取价格

​      等等。。

监控订阅线程（最后一次更新时间），如果出现问题迅速向管理员报警及时重启

**3.数据结构**

​     下次开会再议、深度、价格、其他一些信息

​      *序列化 反序列化* 等

**4.封装Redis**

**5.发送部分：**研究如何实现高性能高可用WebSocket server架构

**6.数据库架构：**完全使用内存数据库Redis集群

​       待研究

​           当前场景：读多写少，但是写部分绝对不能挂

**7.Web程序：**一个Web对应一个本地Redis

**8.Nginx部分：**反向代理 WebSocket
